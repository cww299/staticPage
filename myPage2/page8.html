<!DOCTYPE html>
<html>
<head>
  <title>客户列表</title>
  <link rel="stylesheet" type="text/css" href="./layui/css/layui.css">
  <link rel="stylesheet" type="text/css" href="./pagecss.css">
  <link rel="stylesheet" type="text/css" href="./css/page8And15.css">
  <link rel="shortcut icon" href="./img/sys/icon.ico" type="image/x-icon" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <style>
  </style>
</head>
<body>
<div class="navTab">
  <span class="layui-breadcrumb" lay-separator=">">
    <a href=""><i class="layui-icon layui-icon-home"></i></a>
    <a href="">一级分类</a>
    <a><cite>客户列表(招商经理)</cite></a>
  </span>
  <div class="rightDiv moreBtn">
    <span><i class="layui-icon layui-icon-left"></i></span>
    <span><i class="layui-icon layui-icon-refresh" id="refreshBtn"></i></span>
  </div>
</div>
<div class="hiddenScrool">
  <div>
    <div class="layui-container">
      <div class="layui-row">
        <div class="layui-col-md12">
          <div class="layui-card">
            <div class="layui-card-body">
              <div>
                <div style="float: right;">
                  <span class="layui-btn layui-btn-normal" id="addCustom"><i class="layui-icon layui-icon-add-1"></i>添加</span>
                  <span class="layui-btn layui-btn-normal"><i class="layui-icon layui-icon-add-1"></i>转移客户</span>
                  <span class="layui-btn layui-btn-normal" id="addBill"><i class="layui-icon layui-icon-add-1"></i>报价单</span>
                </div>
                <table class="layui-form">
                  <tr>
                    <td style="width: 120px;"><select><option value="">当前</option></select></td>
                    <td>&nbsp;&nbsp;</td>
                    <td style="width: 120px;"><select><option value="">招商阶段</option></select></td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="text" placeholder="客户名称" class="layui-input"></td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="text" placeholder="联系电话" class="layui-input"></td>
                    <td>&nbsp;&nbsp;</td>
                    <td><span class="layui-btn layui-btn-normal"><i class="layui-icon layui-icon-search">查询</i></span></td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div style="margin-top:15px;">
    <div class="layui-container">
      <div class="layui-row">
        <div class="layui-col-md12">
          <div class="layui-card">
            <div class="layui-card-body">
              <div>
                <table id="tableData1" lay-filter="tableData1"></table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</body>
<script type="text/html" id="addCustomTpl">
  <div class="addTable">
    <div class="layui-card">
      <div class="layui-card-body">
        <table>
          <tr>
            <td class="titleTd"><b class="red">*</b>客户名称：</td>
            <td colspan="3"><input type="text" class="layui-input" placeholder=""></td>
            <td rowspan="4" style="padding: 8px 15px;text-align: center;width: 284px;">
              <img src="./img/page8/tag-bg.png">
              <span class="numberPeople">0</span>
            </td>
          </tr>
          <tr>
            <td class="titleTd">法定代表：</td>
            <td><input type="text" class="layui-input"></td>
            <td class="titleTd">所属行业：</td>
            <td><input type="text" class="layui-input"></td>
          </tr>
          <tr>
            <td class="titleTd">注册地址：</td>
            <td colspan="3"><input type="text" class="layui-input" placeholder=""></td>
          </tr>
           <tr>
            <td class="titleTd">客户来源：</td>
            <td><input type="text" placeholder="" class="layui-input"></td>
            <td class="titleTd">来源名称：</td>
            <td><input type="text" class="layui-input"></td>
          </tr>
        </table>
      </div>
    </div>
    <div class="layui-card">
      <div class="layui-card-header"><i class="layui-icon layui-icon-spread-left"></i>&nbsp;&nbsp;联系人信息&nbsp;&nbsp;&nbsp;&nbsp;<b style="font-weight: normal;font-size: 13px;">注1：联系人与手机号码可以重复修改，但联系人与手机号码一旦被其他人员填写，您将无法重复录入；</b>
      </div>
      <div class="layui-card-body">
        <table>
          <tr>
            <td class="titleTd"><b class="red">*</b>联系人：</td>
            <td><input type="text" class="layui-input" placeholder=""></td>
            <td class="titleTd">所属部门：</td>
            <td><input type="text" placeholder="" class="layui-input"></td>
            <td class="titleTd">所属植物：</td>
            <td><input type="text" placeholder="" class="layui-input"></td>
          </tr>
          <tr>
            <td class="titleTd"><b class="red">*</b>手机号码：</td>
            <td><input type="text" class="layui-input" placeholder=""></td>
            <td class="titleTd">固定电话：</td>
            <td><input type="text" placeholder="" class="layui-input"></td>
            <td class="titleTd">电子邮箱：</td>
            <td><input type="text" placeholder="" class="layui-input"></td>
          </tr>
          <tr>
            <td class="titleTd" style="vertical-align: top;">备注说明：</td>
            <td colspan="5"><textarea class="layui-textarea"></textarea></td>
          </tr>
        </table>
      </div>
    </div>
    <hr>
    <p class="btnP">
      <span class="layui-btn layui-btn-normal">提交保存</span>
      <span class="layui-btn layui-btn-primary" id="closePage">返回</span>
    </p>
  </div>
</script>
<script type="text/html" id="addBillTpl">
  <div class="addTable" style="background: #f4f4f4;overflow: hidden;">
    <div class="layui-card layerContentDiv">
      <div class="layui-card-body layerContent">
        <div style="width: 48%;float: left;padding: 0 5px;">
          <p class="smallTitle"><span class="blueBlock">&nbsp;</span>客户基础信息</p>
          <table>
            <tr>
              <td class="titleTd"><b class="red">*</b>客户名称：</td>
              <td colspan="3"><input type="text" class="layui-input" placeholder=""></td>
            </tr>
            <tr>
              <td class="titleTd">租赁日起：</td>
              <td><input type="text" class="layui-input"></td>
              <td class="titleTd">租赁日止：</td>
              <td><input type="text" class="layui-input"></td>
            </tr>
            <tr>
              <td class="titleTd">首年单价：</td>
              <td><input type="text" class="layui-input"></td>
              <td class="titleTd">租赁时长：</td>
              <td><input type="text" class="layui-input"></td>
            </tr>
             <tr>
              <td class="titleTd">付款方式：</td>
              <td><input type="text" placeholder="" class="layui-input"></td>
              <td class="titleTd">递增方式：</td>
              <td><input type="text" class="layui-input"></td>
            </tr>
            <tr>
              <td class="imgTd" colspan="4">
                <div>6.6<p>首年Revpar</p></div>
                <div>6.6<p>时点Revpar</p></div>
                <div style="line-height: 100px;">计算</div>
              </td>
            </tr>
          </table>
        </div>
        <div style="width: 48%;float: right;padding: 0 5px;">
          <p class="smallTitle"><span class="blueBlock">&nbsp;</span>免租期/物业费
            <span class="layui-btn layui-btn-sm layui-btn-normal" style=" float: right;margin-top: -5px;">添加</span></p>
          <table id="freeTable" lay-filter="freeTable"></table>
        </div>
      </div>
    </div>
    <div class="layui-card twoDiv">
      <p class="smallTitle"><span class="blueBlock">&nbsp;</span>费用明细列表&nbsp;&nbsp;&nbsp;<span class="blueBlock">&nbsp;</span>合同保证金：&nbsp;&nbsp;&nbsp;租金：&nbsp;&nbsp;&nbsp;物业费：</p>
      <table id="primissionTable" lay-filter="primissionTable"></table>
    </div>
    <div class="layui-card twoDiv" style="float: right;">
      <p class="smallTitle"><span class="blueBlock">&nbsp;</span>房源信息&nbsp;&nbsp;&nbsp;面积小计：
            <span class="layui-btn layui-btn-sm layui-btn-normal" style=" float: right;margin-top: -5px;">添加</span></p>
      <table id="houseTable" lay-filter="houseTable"></table>
      <textarea class="layui-textarea" placeholder="备注信息"></textarea>
    </div>
    <div style="background: white;">
      <hr>
      <p class="btnP">
        <span class="layui-btn layui-btn-normal">保存</span>
        <span class="layui-btn layui-btn-normal">保存并打印</span>
        <span class="layui-btn layui-btn-normal">保存生成合同</span>
        <span class="layui-btn layui-btn-primary" id="closePage">返回</span>
      </p>
    </div>
    
  </div>
</script>
<script type="text/javascript" src="./layui/layui.js"></script>
<script type="text/javascript">
  layui.use(['jquery','layer','element','table'],function(){
    var $ = layui.jquery
    ,element = layui.element
    ,table = layui.table
    ,layer = layui.layer;

    var data1 = [
      { bussiness:'初步洽谈',number:'公司',name:'北京微音软件有限公司',contacts:'罗滔',phone:'1888888',last:'2019-10-25 14:54',},
      { bussiness:'初步洽谈',number:'公司',name:'北京微音软件有限公司',contacts:'罗滔',phone:'1888888',last:'2019-10-25 14:54',},
      { bussiness:'初步洽谈',number:'公司',name:'北京微音软件有限公司',contacts:'罗滔',phone:'1888888',last:'2019-10-25 14:54',},
    ];
    table.render({
      elem:'#tableData1',
      data: data1,
      page:true,
      height:'610px',
      cols:[[
        {type:'checkbox',fixed:'left',},
        {title:'招商阶段',field:'bussiness', sort:true, },
        {title:'客户编号',field:'number', width:'10%',sort:true,},
        {title:'客户名称',field:'name', width:'15%',sort:true,},
        {title:'联系人',field:'contacts',width:'8%',sort:true,},
        {title:'联系电话',field:'phone',},
        {title:'最后跟进',field:'last',sort:true,},
        {title:'操作',field:'',templet: getMoreTpl(), width:'30%',fixed:'right', },
      ]]
    })
    
    function getMoreTpl(){
      return function(d){
        return [
          '<span class="layui-btn layui-btn-sm layui-btn-normal"><i class="layui-icon layui-icon-edit"></i>编辑</span>',
          '<span class="layui-btn layui-btn-sm layui-btn-green"><i class="layui-icon layui-icon-edit"></i>临时合同</span>',
          '<span class="layui-btn layui-btn-sm layui-btn-warm"><i class="layui-icon layui-icon-edit"></i>生成合同</span>',
          '<span class="layui-btn layui-btn-sm layui-btn-green"><i class="layui-icon layui-icon-edit"></i>发起用印</span>',
          '<span class="layui-btn layui-btn-sm layui-btn-warm"><i class="layui-icon layui-icon-edit"></i>发起补充协议</span>',
          '<span class="layui-btn layui-btn-sm layui-btn-danger"><i class="layui-icon layui-icon-delete"></i>删除</span>',
        ].join(' ');
      }
    }

    $('#addCustom').click(function(){
      var addProjectWin = layer.open({
        type:1,
        offset:'100px',
        area:['1200px','680px'],
        title:['<i class="layui-icon layui-icon-spread-left"></i>&nbsp;&nbsp;新增客户&nbsp;&nbsp;&nbsp;&nbsp;<b class="customNumber">KF2015123123123</b>',
                '<span class="headTips">',
                  '<b class="red">*</b>为必填项',
                '</span>'].join(''),
        content:$('#addCustomTpl').html(),
        success:function(){
          $('#closePage').unbind().on('click',function(){
            layer.close(addProjectWin);
          })
        }
      })
    })
    $('#addBill').click(function(){
      var addProjectWin = layer.open({
        type:1,
        area:['1100px','100%'],
        title:['<i class="layui-icon layui-icon-spread-left"></i>&nbsp;&nbsp;客户报价单',
                '<span class="headTips">',
                  '<b class="red">*</b>为必填项',
                '</span>'].join(''),
        content:$('#addBillTpl').html(),
        success:function(){
          var d = [
            {name:'免租期租金',start:'',end:'',price:'',},
            {name:'免租期租金',start:'',end:'',price:'',},
          ];
          table.render({
            elem:'#freeTable',
            data:d,
            height:'300px',
            page:true,
            cols:[[
              {type:'checkbox',fixed:'left',},
              {title:'科目名称',field:'name',},
              {title:'开始日期',field:'start',},
              {title:'结束日期',field:'end',},
              {title:'单价',field:'price',},
              {title:'操作', templet: getTableBtns(),},
            ]],
          })
          var d2 = [
            {name:'石景山',date:'',start:'',end:'',price:'',},
            {name:'石景山',date:'',start:'',end:'',price:'',},
            {name:'石景山',date:'',start:'',end:'',price:'',},
            {name:'石景山',date:'',start:'',end:'',price:'',},
            {name:'石景山',date:'',start:'',end:'',price:'',},
            {name:'石景山',date:'',start:'',end:'',price:'',},
            {name:'石景山',date:'',start:'',end:'',price:'',},
            {name:'石景山',date:'',start:'',end:'',price:'',},
          ];
          table.render({
            elem:'#primissionTable',
            data:d2,
            height:'490px',
            page:true,
            cols:[[
              {type:'checkbox',fixed:'left',},
              {title:'费用科目',field:'name',},
              {title:'缴费日期',field:'date',},
              {title:'开始日期',field:'start',},
              {title:'结束日期',field:'end',},
              {title:'缴费金额',field:'price',},
            ]],
          })
          var d3 = [
            {number:'石景山',floor:'',area:'',address:'点石商务6号楼'},
            {number:'石景山',floor:'',area:'',address:'点石商务6号楼'},
            {number:'石景山',floor:'',area:'',address:'点石商务6号楼'},
          ];
          table.render({
            elem:'#houseTable',
            data:d3,
            height:'300px',
            page:true,
            cols:[[
              {type:'checkbox',fixed:'left',},
              {title:'房源编号',field:'number',},
              {title:'楼层',field:'floor',},
              {title:'面积',field:'area',},
              {title:'地址',field:'address',},
            ]],
          })
          function getTableBtns(){
            return [
              '<span class="layui-btn layui-btn-xs">编辑</span>',
              '<span class="layui-btn layui-btn-xs layui-btn-danger">删除</span>',
            ].join('');
          }
          $('#closePage').unbind().on('click',function(){
            layer.close(addProjectWin);
          })
        }
      })
    })
    $('#refreshBtn').click(function(){
      location.reload();
    })
  })
</script>
</html>
